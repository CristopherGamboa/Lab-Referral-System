<div class="flex flex-col gap-y-3">
    <div class="grid grid-cols-12 gap-4">
        @let assignment = assignmentsResource.value();
        @for (assignment of assignment; track assignment.id) {
            <article class="col-span-12 md:col-span-6 lg:col-span-3 p-2 rounded-lg bg-white shadow-2xl">
                <header class="flex justify-between items-center">
                    <h1 class="flex items-center gap-x-1">
                        <span class="text-indigo-800 text-sm align-middle font-semibold">
                            {{ assignment.analysisName }}
                        </span>
                        <span class="w-3 h-2"
                        [class.fill-green-800]="assignment.status == 'COMPLETED'" 
                        [class.fill-yellow-800]="assignment.status == 'PENDING'" >
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/>
                            </svg>
                        </span>
                    </h1>
                    
                    <span class="bg-indigo-900/60 text-xs text-white px-2 py-1 rounded-lg">
                        {{ assignment.id }}
                    </span>
                </header>

                <div class="text-xs text-indigo-800">
                    {{ assignment.status}}
                </div>
                <div class="text-xs text-indigo-800">
                    {{ assignment.requestDate}}
                </div>

                <footer class="mt-4 border-t-2 border-indigo-800 flex gap-x-2 items-center p-2 justify-end">
                    
                    @if (assignment.status === 'COMPLETED') {
                        <span class="text-green-500 text-sm">
                            Petición resuelta
                        </span>
                    }
                    @else {
                        <a [routerLink]="['/technician/assignment/', assignment.id, 'analysis']" class="flex fill-indigo-800 
                        hover:fill-indigo-800/40 cursor-pointer">
                            Asociar análisis
                        </a>
                    }
                </footer>
            </article>
        }
    </div>
</div>